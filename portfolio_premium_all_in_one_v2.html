<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="favicon.jpg">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CV Mohamed Ali Khaldi - Marketing Digital</title>

  <!-- Polices Google -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

  <!-- Icônes Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
:root {
  --primary-color: #2A5C82;
  --secondary-color: #FF6B35;
  --accent-color: #4ECDC4;
  --dark-color: #292F36;
  --light-color: #F7FFF7;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: 'Open Sans', sans-serif;
  line-height: 1.6;
  color: var(--dark-color);
  background-color: #f9f9f9;
  padding: 20px;
}

/* Animation d'entrée du conteneur */
.cv-container {
  max-width: 800px;
  margin: 0 auto;
  background: white;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  border-radius: 10px;
  overflow: hidden;
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.8s forwards 0.2s;
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Header */
.header {
  background: linear-gradient(135deg, var(--primary-color) 0%, #1E3A5F 100%);
  color: white;
  padding: 30px;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.header::after {
  content: '';
  position: absolute;
  inset: 0;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path fill="rgba(255,255,255,0.05)" d="M0,0 L100,0 L100,100 L0,100 Z" /></svg>');
  animation: pulse 15s infinite alternate;
}

@keyframes pulse {
  0% { transform: scale(1); }
  100% { transform: scale(1.05); }
}

.header h1 {
  font-family: 'Poppins', sans-serif;
  font-size: 2.2rem;
  margin-bottom: 5px;
  font-weight: 700;
  position: relative;
  z-index: 1;
  animation: textGlow 3s infinite alternate;
}

@keyframes textGlow {
  from { text-shadow: 0 0 5px rgba(255,255,255,0.3); }
  to { text-shadow: 0 0 15px rgba(255,255,255,0.6); }
}

.header h2 {
  font-family: 'Poppins', sans-serif;
  font-size: 1.3rem;
  font-weight: 400;
  opacity: 0.92;
  margin-bottom: 20px;
  position: relative;
  z-index: 1;
}

/* Contacts */
.contact-info {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 12px;
  margin-top: 15px;
  position: relative;
  z-index: 1;
}

.contact-item {
  display: flex;
  align-items: center;
  font-size: 0.9rem;
  transition: all 0.3s ease;
  padding: 8px 14px;
  background: rgba(255,255,255,0.1);
  border-radius: 30px;
  backdrop-filter: blur(5px);
}

.contact-item:hover {
  background: rgba(255,255,255,0.2);
  transform: translateY(-3px);
}

.contact-item i {
  margin-right: 8px;
  color: var(--secondary-color);
}

/* Sections (révélation au scroll via JS) */
.section,
.sectioninteret {
  padding: 25px 30px;
  border-bottom: 1px solid #eee;
  opacity: 0;
  transform: translateY(14px);
  transition: opacity 0.6s ease, transform 0.6s ease;
  will-change: opacity, transform;
}

.section.is-visible,
.sectioninteret.is-visible {
  opacity: 1;
  transform: translateY(0);
}

.section-title {
  font-family: 'Poppins', sans-serif;
  color: var(--primary-color);
  font-size: 1.4rem;
  margin-bottom: 15px;
  display: flex;
  align-items: center;
  position: relative;
}

.section-title::after {
  content: '';
  flex: 1;
  height: 1px;
  background: linear-gradient(to right, var(--primary-color), rgba(0,0,0,0));
  margin-left: 15px;
}

.section-title i {
  margin-right: 10px;
  color: var(--secondary-color);
}

/* Timeline */
.timeline-item {
  display: flex;
  margin-bottom: 20px;
  position: relative;
  padding-left: 20px;
}

.timeline-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 6px;
  height: 10px;
  width: 10px;
  border-radius: 50%;
  background: var(--accent-color);
  z-index: 1;
}

.timeline-item::after {
  content: '';
  position: absolute;
  left: 4px;
  top: 16px;
  bottom: -25px;
  width: 2px;
  background: var(--accent-color);
}

.timeline-item:last-child::after {
  display: none;
}

.timeline-date {
  min-width: 140px;
  font-weight: 600;
  color: #666;
  transition: all 0.3s ease;
}

.timeline-item:hover .timeline-date {
  color: var(--primary-color);
  transform: translateX(5px);
}

.timeline-content {
  flex: 1;
}

.timeline-content h3 {
  font-family: 'Poppins', sans-serif;
  font-size: 1.1rem;
  color: var(--dark-color);
  margin-bottom: 5px;
  transition: all 0.3s ease;
}

.timeline-item:hover .timeline-content h3 {
  color: var(--primary-color);
}

.timeline-content h4 {
  font-size: 0.95rem;
  color: #555;
  margin-bottom: 8px;
  font-weight: 600;
}

.timeline-content ul {
  padding-left: 20px;
  font-size: 0.9rem;
}

/* Compétences */
.skills-container {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 10px;
}

.skill-badge {
  background: #f0f0f0;
  padding: 6px 12px;
  border-radius: 999px;
  font-size: 0.85rem;
  color: #333;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  position: relative;
  overflow: hidden;
}

.skill-badge::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  transition: left 0.5s ease;
}

.skill-badge:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.08);
}

.skill-badge:hover::before {
  left: 100%;
}

.skill-badge.primary {
  background: var(--primary-color);
  color: white;
}

/* Centres d'intérêt */
.sectioninteret {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  margin: 0 auto;
}

.interests-container {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  justify-content: center;
}

.interest-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 90px;
  text-align: center;
  transition: all 0.3s ease;
}

.interest-icon {
  width: 52px;
  height: 52px;
  background: var(--accent-color);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 8px;
  color: white;
  font-size: 1.2rem;
  transition: all 0.3s ease;
}

.interest-item:hover .interest-icon {
  transform: rotate(12deg) scale(1.08);
  background: var(--secondary-color);
}

.interest-name {
  font-size: 0.8rem;
  color: var(--dark-color);
}

/* Photo profil */
.photo-profil {
  margin: 0 auto 15px;
  width: 130px;
  height: 130px;
  border-radius: 50%;
  overflow: hidden;
  border: 4px solid white;
  box-shadow: 0 0 10px rgba(0,0,0,0.2);
  position: relative;
  z-index: 1;
}

.photo-profil img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Diapo Canva */
.diapo-section {
  text-align: center;
  padding-top: 30px;
}

.canva-embed-container {
  position: relative;
  padding-bottom: 56.25%;
  height: 0;
  overflow: hidden;
  max-width: 100%;
  border-radius: 12px;
  box-shadow: 0 10px 20px rgba(0,0,0,0.15);
  margin: 20px auto;
}

.canva-embed-container iframe {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border: none;
}

/* Footer wave */
.wave-footer {
  height: 30px;
  background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none"><path d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z" opacity=".25" fill="%232A5C82"/><path d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z" opacity=".5" fill="%232A5C82"/><path d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z" fill="%232A5C82"/></svg>');
  background-size: cover;
  opacity: 0;
  animation: fadeIn 1s forwards 1.2s;
}

@keyframes fadeIn {
  to { opacity: 1; }
}

/* Liens */
.custom-link {
  color: inherit;
  text-decoration: none;
}

.custom-link:hover {
  color: #ff6600;
}

/* Bouton retour en haut */
.back-to-top {
  position: fixed;
  right: 18px;
  bottom: 18px;
  width: 46px;
  height: 46px;
  border: none;
  border-radius: 999px;
  background: var(--primary-color);
  color: #fff;
  cursor: pointer;
  display: grid;
  place-items: center;
  box-shadow: 0 10px 20px rgba(0,0,0,0.18);
  opacity: 0;
  transform: translateY(10px);
  pointer-events: none;
  transition: opacity 0.25s ease, transform 0.25s ease;
  z-index: 999;
}

.back-to-top.show {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.back-to-top:focus-visible {
  outline: 3px solid rgba(78, 205, 196, 0.7);
  outline-offset: 3px;
}

/* Responsive */
@media (max-width: 768px) {
  body { padding: 12px; }

  .header { padding: 20px; }

  .header h1 { font-size: 1.8rem; }
  .header h2 { font-size: 1.1rem; }

  .contact-info {
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }

  .section,
  .sectioninteret {
    padding: 20px;
  }

  .timeline-item {
    flex-direction: column;
    padding-left: 15px;
  }

  .timeline-date {
    min-width: unset;
    margin-bottom: 6px;
  }
}


/* =============================
   Premium Portfolio Add-ons
   ============================= */

/* Buttons */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 10px 14px;
  border-radius: 14px;
  font-weight: 700;
  font-family: 'Poppins', sans-serif;
  text-decoration: none;
  border: 1px solid rgba(0,0,0,0.08);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, border-color 0.2s ease;
  cursor: pointer;
}

.btn i { opacity: 0.95; }

.btn-primary {
  background: var(--secondary-color);
  color: #fff;
  border-color: rgba(255, 107, 53, 0.35);
  box-shadow: 0 10px 24px rgba(255, 107, 53, 0.22);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 30px rgba(255, 107, 53, 0.28);
}

.btn-ghost {
  background: rgba(255,255,255,0.9);
  color: var(--primary-color);
  border-color: rgba(42, 92, 130, 0.18);
}

.btn-ghost:hover {
  transform: translateY(-2px);
  box-shadow: 0 14px 30px rgba(0,0,0,0.08);
}

/* CTA */
.cta-section { padding-top: 28px; }
.cta-card {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
  padding: 16px 16px;
  border-radius: 16px;
  background: linear-gradient(135deg, rgba(42, 92, 130, 0.10) 0%, rgba(78, 205, 196, 0.10) 100%);
  border: 1px solid rgba(0,0,0,0.06);
}

.cta-left { display: grid; gap: 4px; }
.cta-title {
  font-family: 'Poppins', sans-serif;
  color: var(--dark-color);
  font-size: 1.1rem;
  display: inline-flex;
  align-items: center;
  gap: 10px;
}
.cta-title i { color: var(--secondary-color); }
.cta-subtitle { color: #556; font-size: 0.95rem; }

.cta-right {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: flex-end;
}

.cta-note {
  margin-top: 10px;
  font-size: 0.88rem;
  color: #667;
}

/* Projects toolbar */
.projects-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  margin: 12px 0 18px;
}

.filter-group { display: inline-flex; gap: 8px; flex-wrap: wrap; }

.chip {
  border: 1px solid rgba(0,0,0,0.10);
  background: rgba(255,255,255,0.85);
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 700;
  font-size: 0.85rem;
  cursor: pointer;
  transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease, border-color 0.18s ease;
}

.chip:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 20px rgba(0,0,0,0.06);
}

.chip.is-active {
  background: rgba(42, 92, 130, 0.12);
  border-color: rgba(42, 92, 130, 0.22);
  color: var(--primary-color);
}

.search-wrap {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(0,0,0,0.10);
  background: rgba(255,255,255,0.9);
}

.search-wrap i { color: #667; }

.search {
  border: none;
  outline: none;
  background: transparent;
  min-width: 220px;
  font-size: 0.95rem;
  font-family: 'Open Sans', sans-serif;
}

/* Projects grid */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
}

.project-card {
  grid-column: span 6;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,0.08);
  background: #fff;
  box-shadow: 0 12px 26px rgba(0,0,0,0.06);
  transition: transform 0.22s ease, box-shadow 0.22s ease;
  cursor: pointer;
  display: grid;
}

.project-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 18px 36px rgba(0,0,0,0.10);
}

.project-hero {
  height: 120px;
  background: linear-gradient(135deg, rgba(42, 92, 130, 0.9) 0%, rgba(78, 205, 196, 0.85) 100%);
  position: relative;
}

.project-hero::after {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 20% 30%, rgba(255,255,255,0.25), transparent 45%),
              radial-gradient(circle at 70% 80%, rgba(255,255,255,0.18), transparent 50%);
}

.project-icon {
  position: absolute;
  bottom: 12px;
  left: 12px;
  width: 44px;
  height: 44px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  background: rgba(255,255,255,0.92);
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 10px 18px rgba(0,0,0,0.10);
  z-index: 1;
  color: var(--primary-color);
  font-size: 1.05rem;
}

.project-body { padding: 14px 14px 16px; display: grid; gap: 8px; }

.project-tags { display: flex; flex-wrap: wrap; gap: 8px; }
.tag {
  font-size: 0.78rem;
  font-weight: 800;
  padding: 5px 10px;
  border-radius: 999px;
  background: rgba(78, 205, 196, 0.12);
  color: #1b6f69;
  border: 1px solid rgba(78, 205, 196, 0.25);
}

.tag.alt {
  background: rgba(255, 107, 53, 0.10);
  border-color: rgba(255, 107, 53, 0.22);
  color: #b14b27;
}

.project-title {
  font-family: 'Poppins', sans-serif;
  font-size: 1.05rem;
  color: var(--dark-color);
  line-height: 1.25;
}

.project-subtitle {
  font-size: 0.92rem;
  color: #556;
}

.project-foot {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 4px;
  color: #667;
  font-size: 0.85rem;
}

.project-foot i { color: var(--secondary-color); }

/* Empty state */
.empty-state {
  margin-top: 14px;
  padding: 18px;
  border-radius: 16px;
  border: 1px dashed rgba(0,0,0,0.14);
  background: rgba(255,255,255,0.85);
  display: grid;
  gap: 6px;
  text-align: center;
}

.empty-icon { font-size: 1.6rem; color: #889; }
.empty-title { font-weight: 800; color: var(--dark-color); }
.empty-subtitle { color: #667; font-size: 0.92rem; }

/* Case studies */
.case-grid {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 14px;
  margin-top: 10px;
}

.case-card {
  grid-column: span 4;
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,0.08);
  background: #fff;
  box-shadow: 0 12px 26px rgba(0,0,0,0.06);
  overflow: hidden;
}

.case-top {
  padding: 14px 14px 12px;
  background: linear-gradient(135deg, rgba(42, 92, 130, 0.10) 0%, rgba(78, 205, 196, 0.10) 100%);
  border-bottom: 1px solid rgba(0,0,0,0.06);
}

.case-badge {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.9);
  border: 1px solid rgba(0,0,0,0.06);
  font-size: 0.78rem;
  font-weight: 800;
  color: var(--primary-color);
  margin-bottom: 10px;
}

.case-top h3 {
  font-family: 'Poppins', sans-serif;
  font-size: 1.05rem;
  margin-bottom: 6px;
  color: var(--dark-color);
}

.case-meta { color: #556; font-size: 0.9rem; }

.case-body { padding: 14px; display: grid; gap: 10px; }

.case-row { display: grid; gap: 4px; }
.case-label {
  font-size: 0.78rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: #667;
  font-weight: 800;
}
.case-text { color: #445; font-size: 0.92rem; }

.kpi-strip {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  margin-top: 6px;
}

.kpi {
  padding: 10px 10px;
  border-radius: 14px;
  background: rgba(42, 92, 130, 0.06);
  border: 1px solid rgba(42, 92, 130, 0.10);
  text-align: center;
}

.kpi-value { font-weight: 900; color: var(--primary-color); }
.kpi-label { font-size: 0.78rem; color: #667; margin-top: 2px; }

.case-note {
  margin-top: 12px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(255,255,255,0.9);
  border: 1px solid rgba(0,0,0,0.08);
  color: #556;
  font-size: 0.9rem;
}

/* Modal / Lightbox */
.modal {
  position: fixed;
  inset: 0;
  display: none;
  z-index: 2000;
}

.modal.is-open { display: block; }

.modal-backdrop {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0.55);
  backdrop-filter: blur(4px);
}

.modal-dialog {
  position: relative;
  width: min(900px, calc(100% - 24px));
  margin: 18px auto;
  background: #fff;
  border-radius: 18px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,0.12);
  box-shadow: 0 30px 70px rgba(0,0,0,0.35);
  animation: modalIn 0.18s ease-out;
}

@keyframes modalIn {
  from { transform: translateY(8px); opacity: 0.9; }
  to { transform: translateY(0); opacity: 1; }
}

.modal-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  border: 1px solid rgba(0,0,0,0.10);
  background: rgba(255,255,255,0.95);
  display: grid;
  place-items: center;
  cursor: pointer;
  z-index: 2;
  transition: transform 0.18s ease, box-shadow 0.18s ease;
}

.modal-close:hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 26px rgba(0,0,0,0.10);
}

.modal-hero {
  height: 180px;
  background: linear-gradient(135deg, rgba(42, 92, 130, 0.92) 0%, rgba(78, 205, 196, 0.88) 100%);
}

.modal-content { padding: 14px 16px 16px; display: grid; gap: 10px; }

.modal-tags { display: flex; flex-wrap: wrap; gap: 8px; }
.modal-title { font-family: 'Poppins', sans-serif; font-size: 1.25rem; color: var(--dark-color); }
.modal-subtitle { color: #556; margin-top: 2px; }

.modal-body { display: grid; gap: 12px; margin-top: 4px; }
.modal-section { display: grid; gap: 6px; }
.modal-label {
  font-size: 0.78rem;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: #667;
  font-weight: 900;
}
.modal-text { color: #445; font-size: 0.95rem; }
.modal-list { padding-left: 18px; color: #445; font-size: 0.95rem; display: grid; gap: 6px; }

.modal-footer {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: 4px;
}

/* Responsive adjustments */
@media (max-width: 900px) {
  .project-card { grid-column: span 12; }
  .case-card { grid-column: span 12; }
  .search { min-width: 160px; }
  .kpi-strip { grid-template-columns: repeat(2, 1fr); }
  .modal-hero { height: 150px; }
}

@media (max-width: 768px) {
  .cta-card { flex-direction: column; align-items: stretch; }
  .cta-right { justify-content: flex-start; }
}

  </style>
</head>

<body>
  <div class="cv-container">
    <header class="header">
      <h1 class="animate__animated animate__fadeInDown">MOHAMED ALI KHALDI</h1>

      <div class="photo-profil animate__animated animate__fadeInDown">
        <img src="photo1.png" alt="Photo de Mohamed Ali Khaldi">
      </div>

      <h2 class="animate__animated animate__fadeInDown animate__delay-1s">Alternant en Marketing Digital & Performance Commerciale</h2>

      <div class="contact-info">
        <div class="contact-item animate__animated animate__fadeIn animate__delay-1s">
          <i class="fas fa-map-marker-alt"></i>
          <span>Marseille / Aubagne</span>
        </div>
        <div class="contact-item animate__animated animate__fadeIn animate__delay-1s">
          <i class="fas fa-phone"></i>
          <span>06 35 56 23 34</span>
        </div>
        <div class="contact-item animate__animated animate__fadeIn animate__delay-1s">
          <i class="fas fa-envelope"></i>
          <span>khaldimohamedali2@gmail.com</span>
        </div>
        <div class="contact-item animate__animated animate__fadeIn animate__delay-1s">
          <i class="fab fa-linkedin"></i>
          <span>
            <a href="https://www.linkedin.com/in/mohamed-ali-khaldi-gioxxane/" target="_blank" rel="noopener noreferrer" class="custom-link">
              Mon profil LinkedIn
            </a>
          </span>
        </div>
      </div>
    </header>

    <section class="section">
      <h2 class="section-title">
        <i class="fas fa-user"></i>
        <span>Profil</span>
      </h2>
      <p>
        Actuellement en fin de Bachelor Marketing Digital (Bac+3), je poursuis mes études en Master Marketing Digital et Performance Commerciale en alternance (2 ans). Fort de mon expérience en tant que Chargé d’Acquisition chez ICM Wellness (Keepcool, Neoness, Metabolik), je développe des compétences en analyse de données, acquisition digitale et performance marketing, et souhaite les mettre au service d’une entreprise ambitieuse.
      </p>
    </section>

    <section class="section">
      <h2 class="section-title">
        <i class="fas fa-graduation-cap"></i>
        <span>Formation</span>
      </h2>

      <div class="timeline-item">
        <div class="timeline-date">2025</div>
        <div class="timeline-content">
          <h3>Bachelor Marketing Digital & Performance Commerciale</h3>
          <h4>La Forbine - Aubagne</h4>
          <ul>
            <li>Spécialisation en analyse de données et campagnes digitales</li>
            <li>Gestion de projet marketing</li>
          </ul>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-date">2022 - 2023</div>
        <div class="timeline-content">
          <h3>Développeur Web & Mobile</h3>
          <h4>SIMPLON - Marseille</h4>
          <ul>
            <li>HTML5, CSS3, JavaScript, Python</li>
            <li>Création de sites e-commerce</li>
          </ul>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-date">2021 - 2022</div>
        <div class="timeline-content">
          <h3>IUT Techniques de Commercialisation</h3>
          <h4>IUT Saint-Jérôme - Marseille</h4>
          <ul>
            <li>Sens de la communication, Esprit commercial, Organisation et gestion du temps</li>
            <li>Travail en équipe, Autonomie et initiative, Adaptabilité</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">
        <i class="fas fa-briefcase"></i>
        <span>Expérience Professionnelle</span>
      </h2>

      <!-- AJOUT ICM WELLNESS -->
      <div class="timeline-item">
        <div class="timeline-date">09/2025 - Présent</div>
        <div class="timeline-content">
          <h3>Chargé d’Acquisition (Alternance)</h3>
          <h4>ICM Wellness (Keepcool, Neoness, Metabolik) – Aix-en-Provence</h4>
          <ul>
            <li>Pilotage et optimisation de campagnes Paid Media (Meta Ads, Google Ads, Snapchat Ads, TikTok Ads) sur un réseau de +300 clubs</li>
            <li>Analyse avancée des performances (CPL, CPA, ROAS, taux de conversion) et recommandations stratégiques d’optimisation</li>
            <li>Exploitation et analyse de données via Google Sheets (formules avancées, TCD, reporting N vs N-1, catégorisation campagnes…)</li>
            <li>Coordination avec agences partenaires (Ads’Up) et équipes internes (Data, Créa, Franchise)</li>
            <li>Collaboration à la production créative (briefs, déclinaisons statiques & vidéos, adaptation aux objectifs de performance)</li>
          </ul>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-date">2024</div>
        <div class="timeline-content">
          <h3>Chef de rayon Fruits et Légumes</h3>
          <h4>Cedisprim - Aubagne</h4>
          <ul>
            <li>Gestion des stocks et des approvisionnements</li>
            <li>Mise en place du merchandising (produits bien présentés et attractifs)</li>
            <li>Suivi des indicateurs de performance (CA, marge, démarque…)</li>
          </ul>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-date">2023</div>
        <div class="timeline-content">
          <h3>Stage - Création d'un site internet</h3>
          <h4>YOUNG - Marseille</h4>
          <ul>
            <li>Conception d'interface utilisateur (HTML/CSS)</li>
            <li>Optimisation SEO basique</li>
            <li>Collaboration avec l'équipe marketing</li>
            <li>Autonomie, Gestion du temps, Esprit logique et analytique</li>
          </ul>
        </div>
      </div>

      <div class="timeline-item">
        <div class="timeline-date">2022</div>
        <div class="timeline-content">
          <h3>Chef d'équipe Agent de Sécurité</h3>
          <h4>SYGMA SECURITE - Marseille</h4>
          <ul>
            <li>Leadership, Communication claire et efficace, Rigueur et vigilance</li>
            <li>Capacité à résoudre les conflits, Esprit d’analyse, Sens de l’organisation</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section diapo-section" id="diapo">
      <h2 class="section-title"><i class="fas fa-desktop"></i> Soutenance de diplôme</h2>
      <p>Voici le diaporama que j'ai présenté pour obtenir mon diplôme de développeur web et web mobile :</p>

      <div class="canva-embed-container">
        <iframe loading="lazy"
          src="https://www.canva.com/design/DAFAR6c6XcQ/snM5j4fRLBhFXbVyi_7-LA/view?embed"
          allowfullscreen="allowfullscreen"
          allow="fullscreen"
          frameborder="0">
        </iframe>
      </div>
    </section>

    <section class="section">
      <h2 class="section-title">
        <i class="fas fa-code"></i>
        <span>Compétences</span>
      </h2>

      <h3>Marketing Digital</h3>
      <div class="skills-container">
        <div class="skill-badge primary">Réseaux sociaux</div>
        <div class="skill-badge primary">Autonomie et gestion des priorités</div>
        <div class="skill-badge primary">Analyse et interprétation des KPI</div>
        <div class="skill-badge primary">Stratégie d’acquisition digitale</div>
        <div class="skill-badge primary">Création de sites dynamiques</div>
        <div class="skill-badge primary">Reporting et synthèse décisionnelle</div>
        <div class="skill-badge primary">Gestion de projet web et marketing</div>
        <div class="skill-badge primary">Coordination d’équipes transverses</div>
      </div>

      <h3 style="margin-top: 20px;">Développement Web</h3>
      <div class="skills-container">
        <div class="skill-badge">HTML/CSS</div>
        <div class="skill-badge">JavaScript</div>
        <div class="skill-badge">Python</div>
        <div class="skill-badge">UX/UI basics</div>
      </div>

      <h3 style="margin-top: 20px;">Soft Skills</h3>
      <div class="skills-container">
        <div class="skill-badge primary">Adaptabilité</div>
        <div class="skill-badge primary">Esprit d'équipe</div>
        <div class="skill-badge primary">Créativité</div>
        <div class="skill-badge primary">Sens analytique</div>
      </div>

      <h3 style="margin-top: 20px;">Langue</h3>
      <div class="skills-container">
        <div class="skill-badge">Francais</div>
        <div class="skill-badge">Italien</div>
        <div class="skill-badge">Anglais</div>
        <div class="skill-badge">Espagnole</div>
        <div class="skill-badge">Arabe</div>
      </div>
    </section>
    <!-- CTA -->
    <section class="section cta-section" id="cta">
      <div class="cta-card">
        <div class="cta-left">
          <h2 class="cta-title"><i class="fas fa-file-arrow-down"></i> Télécharger mon CV (PDF)</h2>
          <p class="cta-subtitle">Une version imprimable, claire et à jour.</p>
        </div>
        <div class="cta-right">
          <a class="btn btn-primary" href="CV_Mohamed_Ali_Khaldi.pdf" download>
            <i class="fas fa-download"></i>
            <span>Télécharger le PDF</span>
          </a>
          <a class="btn btn-ghost" href="#projets">
            <i class="fas fa-layer-group"></i>
            <span>Voir mes projets</span>
          </a>
        </div>
      </div>
      <p class="cta-note">Astuce : ajoute ton fichier PDF à la racine du site sous le nom <strong>CV_Mohamed_Ali_Khaldi.pdf</strong>.</p>
    </section>

    <!-- Projets -->
    <section class="section" id="projets" aria-labelledby="projets-title">
      <h2 class="section-title" id="projets-title">
        <i class="fas fa-layer-group"></i>
        <span>Projets</span>
      </h2>

      <div class="projects-toolbar" role="region" aria-label="Filtres des projets">
        <div class="filter-group" role="tablist" aria-label="Filtres">
          <button class="chip is-active" data-filter="all" role="tab" aria-selected="true">Tous</button>
          <button class="chip" data-filter="acquisition" role="tab" aria-selected="false">Acquisition</button>
          <button class="chip" data-filter="data" role="tab" aria-selected="false">Data / Reporting</button>
          <button class="chip" data-filter="web" role="tab" aria-selected="false">Web</button>
          <button class="chip" data-filter="branding" role="tab" aria-selected="false">Branding</button>
        </div>

        <div class="search-wrap">
          <i class="fas fa-magnifying-glass" aria-hidden="true"></i>
          <input id="projectSearch" class="search" type="search" placeholder="Rechercher un projet…" aria-label="Rechercher un projet">
        </div>
      </div>

      <div id="projectsGrid" class="projects-grid" aria-live="polite"></div>

      <div id="projectsEmpty" class="empty-state" hidden>
        <div class="empty-icon"><i class="fas fa-face-meh"></i></div>
        <div class="empty-title">Aucun projet ne correspond.</div>
        <div class="empty-subtitle">Essaie un autre filtre ou modifie la recherche.</div>
      </div>
    </section>

    <!-- Mini Case Studies -->
    <section class="section" id="case-studies" aria-labelledby="cases-title">
      <h2 class="section-title" id="cases-title">
        <i class="fas fa-chart-line"></i>
        <span>Mini Case Studies — ICM Wellness</span>
      </h2>

      <div class="case-grid">
        <article class="case-card">
          <div class="case-top">
            <div class="case-badge"><i class="fas fa-bullseye"></i> Acquisition</div>
            <h3>Optimisation Paid Media multi-canaux (+300 clubs)</h3>
            <p class="case-meta">Meta Ads • Google Ads • TikTok • Snapchat</p>
          </div>
          <div class="case-body">
            <div class="case-row">
              <div class="case-label">Contexte</div>
              <div class="case-text">Réseau multi-sites avec besoins d’optimisation continue et pilotage par KPI.</div>
            </div>
            <div class="case-row">
              <div class="case-label">Actions</div>
              <div class="case-text">Analyse CPL/CPA/ROAS, segmentation campagnes, recommandations, itérations créa & audiences.</div>
            </div>
            <div class="case-row">
              <div class="case-label">Impact</div>
              <div class="case-text">Amélioration de la qualité lead & meilleure lecture des leviers de performance via reporting.</div>
            </div>

            <div class="kpi-strip" aria-label="Indicateurs (exemples)">
              <div class="kpi"><div class="kpi-value">CPL</div><div class="kpi-label">suivi & optimisation</div></div>
              <div class="kpi"><div class="kpi-value">CPA</div><div class="kpi-label">pilotage</div></div>
              <div class="kpi"><div class="kpi-value">ROAS</div><div class="kpi-label">lecture</div></div>
              <div class="kpi"><div class="kpi-value">CVR</div><div class="kpi-label">conversion</div></div>
            </div>
          </div>
        </article>

        <article class="case-card">
          <div class="case-top">
            <div class="case-badge"><i class="fas fa-table"></i> Data</div>
            <h3>Reporting Google Sheets (N vs N-1) & catégorisation</h3>
            <p class="case-meta">Formules avancées • TCD • synthèse décisionnelle</p>
          </div>
          <div class="case-body">
            <div class="case-row">
              <div class="case-label">Contexte</div>
              <div class="case-text">Besoin d’un suivi fiable, lisible et actionnable pour la prise de décision rapide.</div>
            </div>
            <div class="case-row">
              <div class="case-label">Actions</div>
              <div class="case-text">Automatisation via règles, TCD, tableaux comparatifs, normalisation des données.</div>
            </div>
            <div class="case-row">
              <div class="case-label">Impact</div>
              <div class="case-text">Gain de temps et meilleure priorisation des optimisations (créa, budgets, ciblages).</div>
            </div>

            <div class="kpi-strip" aria-label="Indicateurs (exemples)">
              <div class="kpi"><div class="kpi-value">N / N-1</div><div class="kpi-label">comparatifs</div></div>
              <div class="kpi"><div class="kpi-value">TCD</div><div class="kpi-label">pilotage</div></div>
              <div class="kpi"><div class="kpi-value">KPI</div><div class="kpi-label">lecture</div></div>
              <div class="kpi"><div class="kpi-value">Règles</div><div class="kpi-label">automations</div></div>
            </div>
          </div>
        </article>

        <article class="case-card">
          <div class="case-top">
            <div class="case-badge"><i class="fas fa-pen-nib"></i> Créa</div>
            <h3>Production créative orientée performance</h3>
            <p class="case-meta">Briefs • déclinaisons • tests créa</p>
          </div>
          <div class="case-body">
            <div class="case-row">
              <div class="case-label">Contexte</div>
              <div class="case-text">Adapter les assets (feed/story/vidéo) aux objectifs d’acquisition et aux contraintes multi-clubs.</div>
            </div>
            <div class="case-row">
              <div class="case-label">Actions</div>
              <div class="case-text">Briefs, variations, itérations rapides, cohérence DA & conformité.</div>
            </div>
            <div class="case-row">
              <div class="case-label">Impact</div>
              <div class="case-text">Amélioration de la pertinence des créas et accélération des cycles de test.</div>
            </div>

            <div class="kpi-strip" aria-label="Indicateurs (exemples)">
              <div class="kpi"><div class="kpi-value">CTR</div><div class="kpi-label">créa</div></div>
              <div class="kpi"><div class="kpi-value">CPL</div><div class="kpi-label">impact</div></div>
              <div class="kpi"><div class="kpi-value">Tests</div><div class="kpi-label">A/B</div></div>
              <div class="kpi"><div class="kpi-value">DA</div><div class="kpi-label">cohérence</div></div>
            </div>
          </div>
        </article>
      </div>

      <div class="case-note">
        <i class="fas fa-lock"></i>
        <span>Les chiffres détaillés sont confidentiels. Les éléments ci-dessus illustrent la méthode et les responsabilités.</span>
      </div>
    </section>

    <!-- Lightbox -->
    <div class="modal" id="projectModal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-backdrop" data-close="true"></div>
      <div class="modal-dialog" role="document">
        <button class="modal-close" type="button" aria-label="Fermer" data-close="true">
          <i class="fas fa-xmark"></i>
        </button>

        <div class="modal-hero" id="modalHero" aria-hidden="true"></div>

        <div class="modal-content">
          <div class="modal-head">
            <div class="modal-tags" id="modalTags"></div>
            <h3 id="modalTitle" class="modal-title"></h3>
            <p id="modalSubtitle" class="modal-subtitle"></p>
          </div>

          <div class="modal-body">
            <div class="modal-section">
              <div class="modal-label">Contexte</div>
              <div id="modalContext" class="modal-text"></div>
            </div>
            <div class="modal-section">
              <div class="modal-label">Actions</div>
              <ul id="modalActions" class="modal-list"></ul>
            </div>
            <div class="modal-section">
              <div class="modal-label">Résultat</div>
              <div id="modalResult" class="modal-text"></div>
            </div>
          </div>

          <div class="modal-footer" id="modalLinks"></div>
        </div>
      </div>
    </div>

<section class="sectioninteret" style="border-bottom: none;">
      <h2 class="section-title">
        <i class="fas fa-heart"></i>
        <span>Centres d'intérêt</span>
      </h2>
      <div class="interests-container">
        <div class="interest-item">
          <div class="interest-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <span class="interest-name">Veille marketing</span>
        </div>
        <div class="interest-item">
          <div class="interest-icon">
            <i class="fas fa-basketball-ball"></i>
          </div>
          <span class="interest-name">Sports</span>
        </div>
        <div class="interest-item">
          <div class="interest-icon">
            <i class="fas fa-plane"></i>
          </div>
          <span class="interest-name">Voyages</span>
        </div>
        <div class="interest-item">
          <div class="interest-icon">
            <i class="fas fa-laptop-code"></i>
          </div>
          <span class="interest-name">Tech</span>
        </div>
      </div>
    </section>

    <div class="wave-footer"></div>
  </div>

  <!-- Bouton retour en haut -->
  <button id="backToTop" class="back-to-top" aria-label="Retour en haut">
    <i class="fas fa-arrow-up"></i>
  </button>

  <script>
document.addEventListener('DOMContentLoaded', () => {
  // Reveal sections on scroll
  const revealTargets = document.querySelectorAll('.section, .sectioninteret');

  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.12 }
  );

  revealTargets.forEach((el) => observer.observe(el));

  // Back to top button
  const backToTopBtn = document.getElementById('backToTop');
  if (!backToTopBtn) return;

  const toggleBackToTop = () => {
    if (window.scrollY > 180) backToTopBtn.classList.add('show');
    else backToTopBtn.classList.remove('show');
  };

  window.addEventListener('scroll', toggleBackToTop, { passive: true });
  toggleBackToTop();

  backToTopBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });



  // =============================
  // Projects (cards + filters + modal)
  // =============================
  const projects = [
    
    {
      id: "icm-paid-media",
      title: "Pilotage Paid Media multi-canaux — Réseau +300 clubs",
      subtitle: "Stratégie, optimisation & pilotage performance à grande échelle",
      category: ["acquisition", "data"],
      tags: ["Meta Ads", "Google Ads", "TikTok", "Snapchat", "Performance"],
      icon: "fa-chart-line",
      heroType: "gradient",
      context: "Gestion et optimisation de campagnes Paid Media pour un réseau national de plus de 300 clubs. Environnement multi-marques, multi-localisations et enjeux de performance locale et nationale.",
      actions: [
        "Pilotage stratégique des campagnes Meta Ads, Google Ads, Snapchat Ads et TikTok Ads",
        "Analyse avancée des KPI : CPL, CPA, ROAS, taux de conversion et qualité lead",
        "Optimisation continue : audiences, ciblages géographiques, budgets et itérations créatives",
        "Structuration et automatisation des reportings via Google Sheets (formules avancées, TCD, comparatifs N vs N-1)",
        "Coordination avec l’agence Ads’Up et les équipes internes (Data, Créa, Franchise)",
        "Participation aux briefs créatifs et déclinaisons statiques & vidéos orientées performance"
      ],
      result: "Approche data-driven permettant d’identifier rapidement les leviers d’optimisation, d’améliorer la lisibilité des performances et d’accélérer les cycles d’itération créative.",
      links: [
        { label: "Voir mon expérience complète", href: "#experience" }
      ]
    },
    {
      id: "reporting-sheets",
      title: "Dashboard Google Sheets (N vs N-1)",
      subtitle: "Formules avancées, TCD, catégorisation campagnes & synthèse décisionnelle",
      category: ["data"],
      tags: ["Google Sheets", "TCD", "Automatisation"],
      icon: "fa-table",
      heroType: "gradient",
      context: "Besoin d’un reporting fiable et actionnable pour suivre l’investissement et la performance, avec comparatifs N / N-1.",
      actions: [
        "Normalisation et catégorisation des campagnes",
        "Mise en place de TCD et tableaux comparatifs",
        "Automatisation via formules (filtrage, règles, extractions)"
      ],
      result: "Gain de temps et meilleure visibilité pour prendre des décisions rapides sur les campagnes et la création.",
      links: []
    },
    {
      id: "localads-creative-system",
      title: "Système de déclinaisons créa LocalAds",
      subtitle: "Briefs + déclinaisons feed/story + itérations orientées CPL",
      category: ["acquisition", "branding"],
      tags: ["Créa", "Brief", "A/B tests"],
      icon: "fa-pen-nib",
      heroType: "gradient",
      context: "Décliner rapidement des visuels pour de nombreux clubs tout en restant cohérent avec la DA et les objectifs de performance.",
      actions: [
        "Rédaction de briefs et cadrage DA",
        "Organisation des déclinaisons (formats, safe-zones, mentions)",
        "Itérations rapides selon les retours KPI"
      ],
      result: "Process plus fluide, assets plus adaptés aux objectifs et meilleure capacité à tester vite.",
      links: []
    },
    {
      id: "deeplink-app",
      title: "Deep link de téléchargement d’application (Web)",
      subtitle: "Détection iOS/Android + redirection vers la bonne store page",
      category: ["web"],
      tags: ["Webflow", "Deeplink", "UX"],
      icon: "fa-link",
      heroType: "gradient",
      context: "Faciliter le téléchargement de l’app avec une expérience simple : un seul lien, une redirection automatique.",
      actions: [
        "Conception du comportement (iOS/Android/Desktop)",
        "Mise en place du lien unique et tests",
        "Optimisation UX (CTA, tracking, fallback)"
      ],
      result: "Un parcours plus court et une meilleure expérience utilisateur pour l’installation.",
      links: []
    },
    {
      id: "realfake",
      title: "RealFake — contenu business & IA (side project)",
      subtitle: "Concept éditorial + identité + stratégie social media",
      category: ["branding", "acquisition"],
      tags: ["Social Media", "Brand", "Contenu"],
      icon: "fa-robot",
      heroType: "gradient",
      context: "Création d’un projet média orienté business, IA et mindset, avec une approche test & learn.",
      actions: [
        "Définition positionnement + format de contenus",
        "Création de templates et ligne éditoriale",
        "Optimisation des posts (hook, structure, CTA)"
      ],
      result: "Une base solide pour produire vite, tester et faire grandir l’audience.",
      links: []
    },
    {
      id: "bibi-scooter",
      title: "BiBi Scooter — abonnement scooter (side project)",
      subtitle: "Branding + funnel + landing orientée conversion",
      category: ["web", "branding"],
      tags: ["Landing", "Funnel", "Branding"],
      icon: "fa-motorcycle",
      heroType: "gradient",
      context: "Projet entrepreneurial : structurer l’offre, l’identité et un tunnel simple orienté acquisition.",
      actions: [
        "Clarification de l’offre et des personas",
        "Structure landing (AIDA) + CTA",
        "Mise en place d’un funnel de contact"
      ],
      result: "Une base exploitable pour lancer des campagnes et tester la demande.",
      links: []
    }
  ];

  const grid = document.getElementById('projectsGrid');
  const empty = document.getElementById('projectsEmpty');
  const chips = Array.from(document.querySelectorAll('.chip[data-filter]'));
  const searchInput = document.getElementById('projectSearch');

  let activeFilter = 'all';
  let query = '';

  const slugCategoryLabel = (slug) => {
    switch (slug) {
      case 'acquisition': return 'Acquisition';
      case 'data': return 'Data / Reporting';
      case 'web': return 'Web';
      case 'branding': return 'Branding';
      default: return slug;
    }
  };

  const matches = (p) => {
    const byFilter = activeFilter === 'all' || p.category.includes(activeFilter);
    const q = query.trim().toLowerCase();
    const byQuery = !q || [
      p.title, p.subtitle, p.tags.join(' '), p.category.join(' ')
    ].join(' ').toLowerCase().includes(q);
    return byFilter && byQuery;
  };

  const render = () => {
    if (!grid) return;
    const visible = projects.filter(matches);

    grid.innerHTML = visible.map((p) => {
      const tags = p.tags.slice(0, 3).map((t, i) => `<span class="tag ${i === 1 ? 'alt' : ''}">${t}</span>`).join('');
      const cats = p.category.map(c => `<span class="tag">${slugCategoryLabel(c)}</span>`).join('');
      return `
        <article class="project-card" data-project="${p.id}" tabindex="0" role="button" aria-label="Ouvrir le projet : ${p.title}">
          <div class="project-hero" aria-hidden="true">
            <div class="project-icon"><i class="fas ${p.icon}"></i></div>
          </div>
          <div class="project-body">
            <div class="project-tags" aria-label="Tags du projet">
              ${cats}
            </div>
            <div class="project-title">${p.title}</div>
            <div class="project-subtitle">${p.subtitle}</div>
            <div class="project-tags">${tags}</div>
            <div class="project-foot">
              <span><i class="fas fa-up-right-from-square"></i> Détails</span>
              <span>${p.category.map(slugCategoryLabel).join(' • ')}</span>
            </div>
          </div>
        </article>
      `;
    }).join('');

    if (empty) empty.hidden = visible.length !== 0;
  };

  const setActiveChip = (filter) => {
    activeFilter = filter;
    chips.forEach((c) => {
      const isActive = c.dataset.filter === filter;
      c.classList.toggle('is-active', isActive);
      c.setAttribute('aria-selected', isActive ? 'true' : 'false');
    });
    render();
  };

  chips.forEach((chip) => {
    chip.addEventListener('click', () => setActiveChip(chip.dataset.filter));
  });

  if (searchInput) {
    searchInput.addEventListener('input', (e) => {
      query = e.target.value || '';
      render();
    });
  }

  // Initial render
  render();

  // Modal
  const modal = document.getElementById('projectModal');
  const modalHero = document.getElementById('modalHero');
  const modalTags = document.getElementById('modalTags');
  const modalTitle = document.getElementById('modalTitle');
  const modalSubtitle = document.getElementById('modalSubtitle');
  const modalContext = document.getElementById('modalContext');
  const modalActions = document.getElementById('modalActions');
  const modalResult = document.getElementById('modalResult');
  const modalLinks = document.getElementById('modalLinks');

  let lastFocusEl = null;

  const openModal = (projectId) => {
    if (!modal) return;
    const p = projects.find(x => x.id === projectId);
    if (!p) return;

    lastFocusEl = document.activeElement;

    if (modalHero) {
      modalHero.style.background = "linear-gradient(135deg, rgba(42, 92, 130, 0.92) 0%, rgba(78, 205, 196, 0.88) 100%)";
    }

    if (modalTags) {
      modalTags.innerHTML = p.category.map(c => `<span class="tag">${slugCategoryLabel(c)}</span>`).join('') +
        p.tags.map((t, i) => `<span class="tag ${i % 2 === 1 ? 'alt' : ''}">${t}</span>`).join('');
    }

    if (modalTitle) modalTitle.textContent = p.title;
    if (modalSubtitle) modalSubtitle.textContent = p.subtitle;
    if (modalContext) modalContext.textContent = p.context;
    if (modalResult) modalResult.textContent = p.result;

    if (modalActions) {
      modalActions.innerHTML = p.actions.map(a => `<li>${a}</li>`).join('');
    }

    if (modalLinks) {
      const links = (p.links || []).map(l => `
        <a class="btn btn-ghost" href="${l.href}">
          <i class="fas fa-arrow-right"></i>
          <span>${l.label}</span>
        </a>`).join('');

      modalLinks.innerHTML = links || `<span style="color:#667;font-size:0.9rem;">(Aucun lien externe sur ce projet)</span>`;
    }

    modal.classList.add('is-open');
    modal.setAttribute('aria-hidden', 'false');
    document.body.style.overflow = 'hidden';

    // focus close button
    const closeBtn = modal.querySelector('[data-close="true"]');
    if (closeBtn) closeBtn.focus();
  };

  const closeModal = () => {
    if (!modal) return;
    modal.classList.remove('is-open');
    modal.setAttribute('aria-hidden', 'true');
    document.body.style.overflow = '';
    if (lastFocusEl && typeof lastFocusEl.focus === 'function') lastFocusEl.focus();
  };

  const tryOpenFromCard = (el) => {
    const card = el.closest && el.closest('.project-card');
    if (!card) return;
    const id = card.getAttribute('data-project');
    openModal(id);
  };

  if (grid) {
    grid.addEventListener('click', (e) => tryOpenFromCard(e.target));
    grid.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        tryOpenFromCard(e.target);
      }
    });
  }

  if (modal) {
    modal.addEventListener('click', (e) => {
      const target = e.target;
      if (target && target.getAttribute && target.getAttribute('data-close') === 'true') {
        closeModal();
      }
    });

    document.addEventListener('keydown', (e) => {
      if (!modal.classList.contains('is-open')) return;
      if (e.key === 'Escape') closeModal();
    });
  }

  // Optional: anchor compatibility for "Voir la section Expérience"
  // Add an id to experience section if missing
  const expTitle = Array.from(document.querySelectorAll('.section-title span'))
    .find(sp => sp.textContent.trim().toLowerCase().includes('expérience'));
  if (expTitle) {
    const expSection = expTitle.closest('.section');
    if (expSection && !expSection.id) expSection.id = 'experience';
  }

});

  </script>
</body>
</html>
